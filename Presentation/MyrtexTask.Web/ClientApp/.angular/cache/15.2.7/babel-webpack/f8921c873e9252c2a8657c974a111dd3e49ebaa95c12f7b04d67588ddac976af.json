{"ast":null,"code":"import { EmployeeService } from './employee.service';\nimport { Employee } from './Employee';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./employee.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"angular-datatables\";\nfunction EmployeesComponent_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EmployeesComponent_table_4_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"div\", 33)(3, \"input\", 34);\n    i0.ɵɵlistener(\"click\", function EmployeesComponent_table_4_tr_17_Template_input_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const employee_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.editEmployee(employee_r3));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(4, \"td\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const employee_r3 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(employee_r3.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r3.department);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r3.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 6, employee_r3.dateOfBirth, \"dd-mm-yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 9, employee_r3.dateOfEmployment, \"dd-mm-yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(employee_r3.salary);\n  }\n}\nfunction EmployeesComponent_table_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 30)(1, \"thead\")(2, \"tr\");\n    i0.ɵɵelement(3, \"th\");\n    i0.ɵɵelementStart(4, \"th\", 31);\n    i0.ɵɵtext(5, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"\\u041E\\u0442\\u0434\\u0435\\u043B\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0440\\u0438\\u0435\\u043C\\u0430 \\u043D\\u0430 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0443\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"\\u0417\\u0430\\u0440\\u043F\\u043B\\u0430\\u0442\\u0430\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, EmployeesComponent_table_4_tr_17_Template, 18, 12, \"tr\", 32);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dtOptions\", ctx_r1.dtOptions)(\"dtTrigger\", ctx_r1.dtTrigger);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.employees);\n  }\n}\nexport class EmployeesComponent {\n  constructor(employeeService) {\n    this.employeeService = employeeService;\n    this.employee = new Employee();\n    this.employees = [];\n    this.dtOptions = {};\n    this.dtTrigger = new Subject();\n  }\n  ngOnInit() {\n    this.dtOptions = {\n      pagingType: 'full_numbers'\n      //columnDefs: [\n      //{\n      //    targets: 4,\n      //    render: DataTable.render.datetime('d MMM yyyy')\n      //}\n      //]\n    };\n\n    this.loadEmployees();\n  }\n  loadEmployees() {\n    this.employeeService.getEmployees().subscribe(data => {\n      this.employees = data;\n      this.dtTrigger.next(null);\n    });\n  }\n  save() {\n    if (this.employee.id == null) {\n      this.employeeService.createEmployee(this.employee).subscribe(data => this.employees.push(data));\n    } else {\n      this.employeeService.updateEmployee(this.employee);\n      //.subscribe(data => this.loadEmployees());\n    }\n\n    this.cancel();\n    //this.loadEmployees();\n  }\n\n  delete(p) {\n    this.employeeService.deleteEmployee(p.id).subscribe(() => this.employees.filter(x => x.id == p.id));\n    this.cancel();\n  }\n  editEmployee(p) {\n    this.employee = p;\n  }\n  add() {\n    this.cancel();\n  }\n  cancel() {\n    this.employee = new Employee();\n  }\n}\nEmployeesComponent.ɵfac = function EmployeesComponent_Factory(t) {\n  return new (t || EmployeesComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService));\n};\nEmployeesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeesComponent,\n  selectors: [[\"app-employees\"]],\n  features: [i0.ɵɵProvidersFeature([EmployeeService])],\n  decls: 104,\n  vars: 14,\n  consts: [[\"id\", \"tableLabel\"], [4, \"ngIf\"], [1, \"d-flex\", \"flex-row\"], [\"datatable\", \"\", \"class\", \"table table-hover\", \"aria-labelledby\", \"tableLabel\", 3, \"dtOptions\", \"dtTrigger\", 4, \"ngIf\"], [\"role\", \"group\", 1, \"btn-group-vertical\"], [\"myRadio\", \"reset\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#createModal\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#createModal\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#deleteModal\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"id\", \"createModal\", \"data-bs-backdrop\", \"static\", \"tabindex\", \"-1\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\", 1, \"btn-close\"], [1, \"modal-body\"], [\"for\", \"inputDepartment\"], [\"type\", \"text\", \"id\", \"inputDepartment\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inputFullname\"], [\"type\", \"text\", \"id\", \"inputFullName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inputDateOfBirth\"], [\"type\", \"date\", \"id\", \"inputDateOfBirth\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inputDateOfEmployment\"], [\"type\", \"date\", \"id\", \"inputDateOfEmployment\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inputSalary\"], [\"type\", \"number\", \"id\", \"inputSalary\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"UpdateModal\", \"data-bs-backdrop\", \"static\", \"tabindex\", \"-1\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"deleteModal\", \"data-bs-backdrop\", \"static\", \"tabindex\", \"-1\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"datatable\", \"\", \"aria-labelledby\", \"tableLabel\", 1, \"table\", \"table-hover\", 3, \"dtOptions\", \"dtTrigger\"], [\"hidden\", \"hidden\"], [4, \"ngFor\", \"ngForOf\"], [1, \"form-check\"], [\"type\", \"radio\", \"name\", \"myRadio\", 3, \"click\"]],\n  template: function EmployeesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u043E\\u0432\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, EmployeesComponent_p_2_Template, 3, 0, \"p\", 1);\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, EmployeesComponent_table_4_Template, 18, 3, \"table\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function EmployeesComponent_Template_button_click_6_listener() {\n        return ctx.add();\n      });\n      i0.ɵɵtext(7, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 6);\n      i0.ɵɵtext(9, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 7);\n      i0.ɵɵtext(11, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 9)(14, \"div\", 10)(15, \"div\", 11)(16, \"h4\", 12);\n      i0.ɵɵtext(17, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"button\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 14)(20, \"div\")(21, \"label\", 15);\n      i0.ɵɵtext(22, \"\\u041E\\u0442\\u0434\\u0435\\u043B\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\")(24, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.employee.department = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\")(26, \"label\", 17);\n      i0.ɵɵtext(27, \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\")(29, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.employee.fullName = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"div\")(31, \"label\", 19);\n      i0.ɵɵtext(32, \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\")(34, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_34_listener($event) {\n        return ctx.employee.dateOfBirth = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"div\")(36, \"label\", 21);\n      i0.ɵɵtext(37, \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0440\\u0438\\u0435\\u043C\\u0430 \\u043D\\u0430 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0443\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"div\")(39, \"input\", 22);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_39_listener($event) {\n        return ctx.employee.dateOfEmployment = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(40, \"div\")(41, \"label\", 23);\n      i0.ɵɵtext(42, \"\\u0417\\u0430\\u0440\\u043F\\u0430\\u0442\\u0430\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"div\")(44, \"input\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_44_listener($event) {\n        return ctx.employee.salary = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(45, \"div\", 25)(46, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function EmployeesComponent_Template_button_click_46_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵtext(47, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"button\", 27);\n      i0.ɵɵtext(49, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(50, \"div\", 28)(51, \"div\", 9)(52, \"div\", 10)(53, \"div\", 11)(54, \"h4\", 12);\n      i0.ɵɵtext(55, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(56, \"button\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 14)(58, \"div\")(59, \"label\", 15);\n      i0.ɵɵtext(60, \"\\u041E\\u0442\\u0434\\u0435\\u043B\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"div\")(62, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_62_listener($event) {\n        return ctx.employee.department = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(63, \"div\")(64, \"label\", 17);\n      i0.ɵɵtext(65, \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"div\")(67, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_67_listener($event) {\n        return ctx.employee.fullName = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(68, \"div\")(69, \"label\", 19);\n      i0.ɵɵtext(70, \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"div\")(72, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_72_listener($event) {\n        return ctx.employee.dateOfBirth = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(73, \"div\")(74, \"label\", 21);\n      i0.ɵɵtext(75, \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0440\\u0438\\u0435\\u043C\\u0430 \\u043D\\u0430 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0443\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"div\")(77, \"input\", 22);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_77_listener($event) {\n        return ctx.employee.dateOfEmployment = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(78, \"div\")(79, \"label\", 23);\n      i0.ɵɵtext(80, \"\\u0417\\u0430\\u0440\\u043F\\u0430\\u0442\\u0430\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"div\")(82, \"input\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_82_listener($event) {\n        return ctx.employee.salary = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(83, \"div\", 25)(84, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function EmployeesComponent_Template_button_click_84_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵtext(85, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"button\", 27);\n      i0.ɵɵtext(87, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(88, \"div\", 29)(89, \"div\", 9)(90, \"div\", 10)(91, \"div\", 11)(92, \"h4\", 12);\n      i0.ɵɵtext(93, \"\\u0423\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(94, \"button\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(95, \"div\", 14)(96, \"p\");\n      i0.ɵɵtext(97, \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(98, \"div\", 25)(99, \"div\")(100, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function EmployeesComponent_Template_button_click_100_listener() {\n        return ctx.delete(ctx.employee);\n      });\n      i0.ɵɵtext(101, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(102, \"button\", 27);\n      i0.ɵɵtext(103, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.employees);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.employees);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", ctx.employee.id == null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.employee.id == null);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.department);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.fullName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.dateOfBirth);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.dateOfEmployment);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.salary);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.department);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.fullName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.dateOfBirth);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.dateOfEmployment);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.salary);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgModel, i4.DataTableDirective, i2.DatePipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["EmployeeService","Employee","Subject","i0","EmployeesComponent","constructor","employeeService","ngOnInit","dtOptions","pagingType","loadEmployees","getEmployees","subscribe","data","employees","dtTrigger","next","save","employee","id","createEmployee","push","updateEmployee","cancel","delete","p","deleteEmployee","filter","x","editEmployee","add","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Ryadn\\source\\repos\\MyrtexTask\\Presentation\\MyrtexTask.Web\\ClientApp\\src\\app\\employees\\employees.component.ts","C:\\Users\\Ryadn\\source\\repos\\MyrtexTask\\Presentation\\MyrtexTask.Web\\ClientApp\\src\\app\\employees\\employees.component.html"],"sourcesContent":["import { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { EmployeeService } from './employee.service';\r\nimport { Employee } from './Employee';\r\nimport { DataTablesModule } from 'angular-datatables'\r\nimport { Subject } from 'rxjs'; \r\n\r\n@Component({\r\n  selector: 'app-employees',\r\n  templateUrl: './employees.component.html',\r\n  providers: [EmployeeService]\r\n})\r\nexport class EmployeesComponent implements OnInit{\r\n\r\n  employee: Employee = new Employee();\r\n  employees: Employee[] = [];\r\n  dtOptions: DataTables.Settings = {};\r\n  dtTrigger: Subject<any> = new Subject<any>();\r\n\r\n  constructor(private employeeService: EmployeeService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.dtOptions = {\r\n      pagingType: 'full_numbers',\r\n      //columnDefs: [\r\n      //{\r\n      //    targets: 4,\r\n      //    render: DataTable.render.datetime('d MMM yyyy')\r\n      //}\r\n      //]\r\n      \r\n    };\r\n    this.loadEmployees();\r\n  }\r\n\r\n  loadEmployees() {\r\n    this.employeeService.getEmployees()\r\n      .subscribe(data => {\r\n        this.employees = data;\r\n        this.dtTrigger.next(null);\r\n      });\r\n  }\r\n\r\n  save() {\r\n    if (this.employee.id == null) {\r\n      this.employeeService.createEmployee(this.employee)\r\n        .subscribe((data: Employee) => this.employees.push(data));\r\n    } else {\r\n      this.employeeService.updateEmployee(this.employee)\r\n        //.subscribe(data => this.loadEmployees());\r\n    }\r\n    this.cancel();\r\n    //this.loadEmployees();\r\n  }\r\n\r\n  delete(p: Employee) {\r\n    this.employeeService.deleteEmployee(p.id)\r\n      .subscribe(() => this.employees.filter((x) => x.id == p.id) );\r\n    this.cancel()\r\n  }\r\n\r\n  editEmployee(p: Employee) {\r\n    this.employee = p;\r\n    \r\n  }\r\n\r\n  add() {\r\n    this.cancel();\r\n  }\r\n\r\n  cancel() {\r\n    this.employee = new Employee();\r\n  }\r\n}\r\n","<h1 id=\"tableLabel\">Список сотрудников</h1>\r\n\r\n<p *ngIf=\"!employees\"><em>Loading...</em></p>\r\n\r\n<div class=\"d-flex flex-row\">\r\n  <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" class=\"table table-hover\" aria-labelledby=\"tableLabel\" *ngIf=\"employees\">\r\n    <thead>\r\n      <tr>\r\n        <th></th>\r\n        <th hidden=\"hidden\">Id</th>\r\n        <th>Отдел</th>\r\n        <th>Полное имя</th>\r\n        <th>Дата рождения</th>\r\n        <th>Дата приема на работу</th>\r\n        <th>Зарплата</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n\r\n      <tr *ngFor=\"let employee of employees;\">\r\n        <td>\r\n          <div class=\"form-check\">\r\n            <input type=\"radio\" name=\"myRadio\" (click)=\"editEmployee(employee);\" />\r\n          </div>\r\n        </td>\r\n        <td hidden=\"hidden\">{{employee.id}}</td>\r\n        <td>{{ employee.department }}</td>\r\n        <td>{{ employee.fullName }}</td>\r\n        <td>{{ employee.dateOfBirth | date: \"dd-mm-yyyy\" }}</td>\r\n        <td>{{ employee.dateOfEmployment| date: \"dd-mm-yyyy\" }}</td>\r\n        <td>{{ employee.salary }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <div class=\"btn-group-vertical\" role=\"group\">\r\n    <button class=\"btn btn-primary\" (click)=\"add()\" myRadio=\"reset\" data-bs-toggle=\"modal\" data-bs-target=\"#createModal\">Добавить</button>\r\n    <button class=\"btn btn-primary\" [disabled]=\"employee.id == null\" data-bs-toggle=\"modal\" data-bs-target=\"#createModal\">Редактировать</button>\r\n    <button class=\"btn btn-primary\" [disabled]=\"employee.id == null\" data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\">Удалить</button>\r\n  </div>\r\n</div>\r\n<!--Модальное окно добавления-->\r\n\r\n<div class=\"modal fade\" id=\"createModal\" data-bs-backdrop=\"static\" tabindex=\"-1\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\">Добавление сотрудника</h4>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Закрыть\"></button>\r\n      </div>\r\n\r\n\r\n      <div class=\"modal-body\">\r\n\r\n        <div>\r\n          <label for=\"inputDepartment\">Отдел</label>\r\n          <div>\r\n            <input type=\"text\" [(ngModel)]=\"employee.department\" class=\"form-control\" id=\"inputDepartment\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputFullname\">Полное имя</label>\r\n          <div>\r\n            <input type=\"text\" [(ngModel)]=\"employee.fullName\" class=\"form-control\" id=\"inputFullName\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputDateOfBirth\">Дата рождения</label>\r\n          <div>\r\n            <input type=\"date\" [(ngModel)]=\"employee.dateOfBirth\" class=\"form-control\" id=\"inputDateOfBirth\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputDateOfEmployment\">Дата приема на работу</label>\r\n          <div>\r\n            <input type=\"date\" [(ngModel)]=\"employee.dateOfEmployment\" class=\"form-control\" id=\"inputDateOfEmployment\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputSalary\">Зарпата</label>\r\n          <div>\r\n            <input type=\"number\" [(ngModel)]=\"employee.salary\" class=\"form-control\" id=\"inputSalary\" />\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"save()\" data-bs-dismiss=\"modal\">Сохранить</button>\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Закрыть</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<!--Модальное окно редактирования-->\r\n\r\n<div class=\"modal fade\" id=\"UpdateModal\" data-bs-backdrop=\"static\" tabindex=\"-1\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\">Редактирование сотрудника</h4>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Закрыть\"></button>\r\n      </div>\r\n\r\n\r\n      <div class=\"modal-body\">\r\n\r\n        <div>\r\n          <label for=\"inputDepartment\">Отдел</label>\r\n          <div>\r\n            <input type=\"text\" [(ngModel)]=\"employee.department\" class=\"form-control\" id=\"inputDepartment\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputFullname\">Полное имя</label>\r\n          <div>\r\n            <input type=\"text\" [(ngModel)]=\"employee.fullName\" class=\"form-control\" id=\"inputFullName\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputDateOfBirth\">Дата рождения</label>\r\n          <div>\r\n            <input type=\"date\" [(ngModel)]=\"employee.dateOfBirth\" class=\"form-control\" id=\"inputDateOfBirth\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputDateOfEmployment\">Дата приема на работу</label>\r\n          <div>\r\n            <input type=\"date\" [(ngModel)]=\"employee.dateOfEmployment\" class=\"form-control\" id=\"inputDateOfEmployment\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"inputSalary\">Зарпата</label>\r\n          <div>\r\n            <input type=\"number\" [(ngModel)]=\"employee.salary\" class=\"form-control\" id=\"inputSalary\" />\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"save()\" data-bs-dismiss=\"modal\">Сохранить</button>\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Закрыть</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<!--Модальное окно удаления-->\r\n\r\n<div class=\"modal fade\" id=\"deleteModal\" data-bs-backdrop=\"static\" tabindex=\"-1\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\">Удаление сотрудника</h4>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Закрыть\"></button>\r\n      </div>\r\n\r\n      <div class=\"modal-body\">\r\n        <p>Вы уверены, что хотите удалить выбранного сотрудника?</p>\r\n      </div>\r\n\r\n      <div class=\"modal-footer\">\r\n        <div>\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"delete(employee)\" data-bs-dismiss=\"modal\">Удалить</button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Отмена</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}